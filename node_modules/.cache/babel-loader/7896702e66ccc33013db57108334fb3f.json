{"ast":null,"code":"var _jsxFileName = \"/Users/carolinatobarjaramillo/Documents/docs-caro/ALKEMY SKILL UP REACT I/skillup/src/components/Login.jsx\",\n    _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport swal from '@sweetalert/with-react';\nimport { useHistory, Redirect } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Login() {\n  _s();\n\n  const history = useHistory(); //console.log(history);\n\n  const submitHandler = e => {\n    e.preventDefault();\n    const email = e.target.email.value;\n    const password = e.target.password.value;\n    const regexEmail = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\n    if (email === '' || password === '') {\n      swal( /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"los campos no pueden estar vac\\xEDos\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 16,\n        columnNumber: 18\n      }, this));\n      return;\n    }\n\n    if (email !== '' && !regexEmail.test(email)) {\n      swal( /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"debes escribir una direcci\\xF3n de correo electr\\xF3nico v\\xE1lida\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 20,\n        columnNumber: 18\n      }, this));\n      return;\n    }\n\n    if (email !== 'challenge@alkemy.org' || password !== 'react') {\n      swal( /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Credenciales inv\\xE1lidas\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 18\n      }, this));\n      return;\n    }\n\n    axios.post('http://challenge-react.alkemy.org', {\n      email,\n      password\n    }).then(res => {\n      swal( /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Ok, tu informaci\\xF3n est\\xE1 correcta\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 22\n      }, this));\n      console.log(res.data);\n      const tokenRecibido = res.data.token;\n      sesionStorage.setItem('token', tokenRecibido);\n      history.push('/listado');\n    });\n  };\n\n  let token = localStorage.getItem('token');\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [token && /*#__PURE__*/_jsxDEV(Redirect, {\n      to: \"/listado\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 19\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Formulario de Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: submitHandler,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Correo Electr\\xF3nico\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Contrase\\xF1a\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          name: \"password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Login, \"9cZfZ04734qoCGIctmKX7+sX6eU=\", false, function () {\n  return [useHistory];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["axios","swal","useHistory","Redirect","Login","history","submitHandler","e","preventDefault","email","target","value","password","regexEmail","test","post","then","res","console","log","data","tokenRecibido","token","sesionStorage","setItem","push","localStorage","getItem"],"sources":["/Users/carolinatobarjaramillo/Documents/docs-caro/ALKEMY SKILL UP REACT I/skillup/src/components/Login.jsx"],"sourcesContent":["import axios from 'axios';\nimport swal from '@sweetalert/with-react'\nimport {useHistory, Redirect } from 'react-router-dom';\n\nfunction Login() {  \n    const history = useHistory();\n    //console.log(history);\n\n    const submitHandler = (e) => {\n        e.preventDefault();\n        const email = e.target.email.value;\n        const password = e.target.password.value;\n        const regexEmail = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\n        if (email === '' || password === '') {\n            swal(<h2>los campos no pueden estar vacíos</h2>);\n            return;\n        }\n        if (email !== '' && !regexEmail.test(email)) {\n            swal(<h2>debes escribir una dirección de correo electrónico válida</h2>);\n            return;\n        }\n        if (email !== 'challenge@alkemy.org' || password !== 'react') {\n            swal(<h2>Credenciales inválidas</h2>);\n            return;\n        }\n        \n        axios\n            .post('http://challenge-react.alkemy.org', { email, password })\n            .then(res => {\n                swal(<h2>Ok, tu información está correcta</h2>);\n                console.log(res.data);\n                const tokenRecibido = res.data.token;\n                sesionStorage.setItem('token', tokenRecibido);\n              history.push('/listado')\n            })\n    }\n\n    let token = localStorage.getItem('token');\n    \n    return (\n        <>\n        {token && <Redirect to=\"/listado\" />}\n            <h2>Formulario de Login</h2>\n            <form onSubmit={submitHandler}>\n                <label>\n                    <span>Correo Electrónico</span>\n                    <br />\n                    <input type=\"text\" name=\"email\" />\n                </label>\n                <br />\n                <label>\n                    <span>Contraseña</span>\n                    <br />\n                    <input type=\"password\" name=\"password\" />\n                </label>\n                <br />\n                <button type=\"submit\">Login</button>\n            </form>\n        </>\n\n    )\n\n}\n\nexport default Login;"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,SAAQC,UAAR,EAAoBC,QAApB,QAAoC,kBAApC;;;;AAEA,SAASC,KAAT,GAAiB;EAAA;;EACb,MAAMC,OAAO,GAAGH,UAAU,EAA1B,CADa,CAEb;;EAEA,MAAMI,aAAa,GAAIC,CAAD,IAAO;IACzBA,CAAC,CAACC,cAAF;IACA,MAAMC,KAAK,GAAGF,CAAC,CAACG,MAAF,CAASD,KAAT,CAAeE,KAA7B;IACA,MAAMC,QAAQ,GAAGL,CAAC,CAACG,MAAF,CAASE,QAAT,CAAkBD,KAAnC;IACA,MAAME,UAAU,GAAG,uJAAnB;;IAEA,IAAIJ,KAAK,KAAK,EAAV,IAAgBG,QAAQ,KAAK,EAAjC,EAAqC;MACjCX,IAAI,eAAC;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAAD,CAAJ;MACA;IACH;;IACD,IAAIQ,KAAK,KAAK,EAAV,IAAgB,CAACI,UAAU,CAACC,IAAX,CAAgBL,KAAhB,CAArB,EAA6C;MACzCR,IAAI,eAAC;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAAD,CAAJ;MACA;IACH;;IACD,IAAIQ,KAAK,KAAK,sBAAV,IAAoCG,QAAQ,KAAK,OAArD,EAA8D;MAC1DX,IAAI,eAAC;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAAD,CAAJ;MACA;IACH;;IAEDD,KAAK,CACAe,IADL,CACU,mCADV,EAC+C;MAAEN,KAAF;MAASG;IAAT,CAD/C,EAEKI,IAFL,CAEUC,GAAG,IAAI;MACThB,IAAI,eAAC;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAAD,CAAJ;MACAiB,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB;MACA,MAAMC,aAAa,GAAGJ,GAAG,CAACG,IAAJ,CAASE,KAA/B;MACAC,aAAa,CAACC,OAAd,CAAsB,OAAtB,EAA+BH,aAA/B;MACFhB,OAAO,CAACoB,IAAR,CAAa,UAAb;IACD,CARL;EASH,CA5BD;;EA8BA,IAAIH,KAAK,GAAGI,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAZ;EAEA,oBACI;IAAA,WACCL,KAAK,iBAAI,QAAC,QAAD;MAAU,EAAE,EAAC;IAAb;MAAA;MAAA;MAAA;IAAA,QADV,eAEI;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAFJ,eAGI;MAAM,QAAQ,EAAEhB,aAAhB;MAAA,wBACI;QAAA,wBACI;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QADJ,eAEI;UAAA;UAAA;UAAA;QAAA,QAFJ,eAGI;UAAO,IAAI,EAAC,MAAZ;UAAmB,IAAI,EAAC;QAAxB;UAAA;UAAA;UAAA;QAAA,QAHJ;MAAA;QAAA;QAAA;QAAA;MAAA,QADJ,eAMI;QAAA;QAAA;QAAA;MAAA,QANJ,eAOI;QAAA,wBACI;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QADJ,eAEI;UAAA;UAAA;UAAA;QAAA,QAFJ,eAGI;UAAO,IAAI,EAAC,UAAZ;UAAuB,IAAI,EAAC;QAA5B;UAAA;UAAA;UAAA;QAAA,QAHJ;MAAA;QAAA;QAAA;QAAA;MAAA,QAPJ,eAYI;QAAA;QAAA;QAAA;MAAA,QAZJ,eAaI;QAAQ,IAAI,EAAC,QAAb;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAbJ;IAAA;MAAA;MAAA;MAAA;IAAA,QAHJ;EAAA,gBADJ;AAuBH;;GA3DQF,K;UACWF,U;;;KADXE,K;AA6DT,eAAeA,KAAf"},"metadata":{},"sourceType":"module"}